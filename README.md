![header](https://capsule-render.vercel.app/api?type=Rounded&color=F2F2F3&height=300&section=header&text=The-Julge&fontSize=100&fontColor=EA3C12)


# 3배 줄께

## 🔥 프로젝트 소개 : The-Julge
급하게 일손이 필요한 자리에 더 많은 시급을 제공해서 아르바이트생을 구할 수 있는 서비스입니다.

### 🌐 배포 : https://the-a-julge.vercel.app/

---
## 💼 팀원 소개

|<img src="https://avatars.githubusercontent.com/u/110890911?v=4" width="150" height="150"/>|<img src="https://avatars.githubusercontent.com/u/108421517?v=4" width="150" height="150"/>|<img src="https://avatars.githubusercontent.com/u/54311686?v=4" width="150" height="150"/>|
|:-:|:-:|:-:|
|황지홍<br/>[@ClownNero](https://github.com/ClownNero)<br/>API 활용한 데이터(GET,POST,PUT) 적용<br/>내 프로필 등록/편집 페이지(데이터 변경 쿼리 자동 업데이트 적용)<br/>내 프로필 정보 상세 페이지(SSR적용)<br/>공통 컴포넌트(테이블 상태, 최근 본 공고)<br/>새로고침 후 정보 유지를 위한 Zustand persist 상태관리<br/>기존 token 저장 방식을 쿠키로 변경 및 적용<br/>middleware.ts로 리디렉션 리팩토링|박기범<br/>[@gibeom0218](https://github.com/gibeom0218)<br/>레이아웃 적용 (NavBar, Footer)<br/>공고 컴포넌트<br/>가게 등록/편집 페이지<br/>공고 등록/편집 페이지<br/>가게 정보 상세 페이지<br/>공고리스트 페이지(디자인, 검색, 상세 필터)|최희문<br/>[@ChoiHeeMoon99](https://github.com/ChoiHeeMoon99)<br/>공통 Input,Button,Dropdown 컴포넌트<br/>로그인, 회원가입 페이지<br/>공고 상세 페이지(table 컴포넌트, 공고 상세 내용, 페이지네이션)<br/>공고 리스트 페이지( 페이지네이션, 공고 정렬 )<br/>NavBar ( 알림 기능 )|

---
## ⭐️ 프로젝트 소개

### - 프로젝트 기간 : 2024. 07. 12. ~ 2024. 08. 31.
### - 프로젝트 설명

### 사장님
- **가게 관리**
  - 가게를 등록/편집을 할 수 있고 가게 정보를 확인할 수 있습니다.
    
- **공고 관리**
  - 가게에 대한 공고를 등록/편집할 수 있고 등록한 공고들을 확인할 수 있습니다.
  - 공고를 신청한 신청자 목록을 확인할 수 있습니다.
  - 공고 신청을 거절 혹은 승인할 수 있습니다.
    
    
### 알바님
- **프로필 관리**
  - 내 프로필 정보를 등록/편집할 수 있고 프로필 정보를 확인할 수 있습니다.
    
- **공고 관리**
  - 선택한 공고에 대한 신청을 할 수 있습니다.
  - 신청한 공고에 대해 취소를 할 수 있습니다.
  - 자신의 공고 신청 내역 상태를 확인할 수 있습니다.
  - 신청한 공고에 대한 거절/승인 알림을 확인할 수 있습니다.
  - 최근에 본 공고 내역을 확인 할 수 있습니다.
 
    
### 공통
- **공고 확인**
  - 주소를 기준으로 맞춤 공고를 확인 할 수 있습니다.
  - 전체 공고를 확인할 수 있습니다.
    
- **공고 검색**
  - 마감임박순, 시급많은 순, 시간적은 순, 가나다 순으로 공고를 정렬할 수 있습니다.
  - 상세 필터에서 위치, 시작일, 금액 기준으로 공고를 검색을 할 수 있습니다.


---
## ⭐️ 프로젝트 구성

### Tech Stacks

#### Languages

<div>
  <img height='26px' src="https://img.shields.io/badge/Typescript-3178C6?style=flat-square&logo=Typescript&logoColor=white"/>
  <img height='26px' src="https://img.shields.io/badge/HTML5-E34F26?style=flat-square&logo=html5&logoColor=white"/>
</div>

#### Styles

<div>
<img height='26px' src="https://img.shields.io/badge/Tailwind%20CSS-06B6D4?style=flat-square&logo=Tailwind%20CSS&logoColor=white"/>
<img height='26px' src="https://img.shields.io/badge/styled%20components-DB7093?style=flat-square&logo=styled-components&logoColor=white"/>
</div>

#### Framework & Libraries

<div>
<img height='26px' src="https://img.shields.io/badge/Next.js-000000?style=flat-square&logo=Next.js&logoColor=white"/>
<img height='26px' src="https://img.shields.io/badge/React-61DAFB?style=flat-square&logo=React&logoColor=black"/>
</div>
<div>
<img height='26px' src="https://img.shields.io/badge/axios-5A29E4?style=for-the-badge&logo=axios&logoColor=white"/>
<img height='26px' src="https://img.shields.io/badge/-React%20Query-FF4154?style=plastic&logo=react%20query&logoColor=white"/>
<img height='26px' src="https://img.shields.io/badge/React Calendar-4285F4?style=flat-square&logo=googlecalendar&logoColor=white"/>
<img height='26px' src="https://img.shields.io/badge/React intersection observer-353E58?style=flat-square&logo=observable&logoColor=white"/>
<img height='26px' src="https://img.shields.io/badge/React Slick-FF880F?style=for-the-badge&logo=slickpic&logoColor=white"/>
<img height='26px' src="https://img.shields.io/badge/Zustand-FAB040?style=for-the-badge&logo=React&logoColor=white"/>
</div>

#### Version Control

<img height='26px' src="https://img.shields.io/badge/Git-F05032?style=flat-square&logo=git&logoColor=white"/>

#### Deployment

<img height='26px' src="https://img.shields.io/badge/Vercel-000000?style=flat-square&logo=Vercel&logoColor=white"/>

#### Collab.

<div>
<img height='26px' src="https://img.shields.io/badge/GitHub-181717?style=flat-square&logo=GitHub&logoColor=white"/>
<img height='26px' src='https://img.shields.io/badge/Notion-white?style=flat-square&logo=notion&logoColor=white&color=black'/>
<img height='26px' src="https://img.shields.io/badge/Discord-5865F2?style=flat-square&logo=Discord&logoColor=white&color=5865F2"/>
<img height='26px' src='https://img.shields.io/badge/Figma-white?style=flat-square&logo=figma&logoColor=white&color=F24E1E'/>
</div>

<hr />

## ⭐️ 아키텍처

![아키텍처](https://github.com/user-attachments/assets/832f5bd1-ce47-4d4f-976f-c30c6bcdb879)

<hr />

## 디렉토리 구조

```
📦src
 ┣ 📂apis
 ┃ ┣ 📂alert
 ┃ ┣ 📂assignNoticeInfo
 ┃ ┣ 📂assignShopInfo
 ┃ ┣ 📂auth
 ┃ ┣ 📂editNoticeInfo
 ┃ ┣ 📂editProfileInfo
 ┃ ┣ 📂editShopInfo
 ┃ ┣ 📂imageUpload
 ┃ ┣ 📂notice
 ┃ ┣ 📂profile
 ┃ ┣ 📂shop
 ┃ ┣ 📂user
 ┣ 📂components
 ┃ ┣ 📂authComponents
 ┃ ┣ 📂commonComponents
 ┃ ┃ ┣ 📂button
 ┃ ┃ ┣ 📂dropdown
 ┃ ┃ ┣ 📂footer
 ┃ ┃ ┣ 📂navigationBar
 ┃ ┃ ┣ 📂pagination
 ┃ ┃ ┣ 📂input
 ┃ ┃ ┣ 📂status
 ┃ ┃ ┣ 📂applicationList
 ┃ ┃ ┗ 📂hourlypayCalc
 ┃ ┣ 📂editComponents
 ┃ ┣ 📂homeComponents
 ┃ ┣ 📂myInfoComponents
 ┃ ┗ 📂noticeComponents
 ┣ 📂constant
 ┣ 📂hooks
 ┣ 📂provider
 ┣ 📂stores
 ┣ 📂styles
 ┣ 📂utils
 ┗ 📂app
 ┃ ┣ 📂(auth)
 ┃ ┃ ┣ 📂signin
 ┃ ┃ ┣ 📂signup
 ┃ ┃ ┗ 📜loading.tsx
 ┃ ┣ 📂(contents)
 ┃ ┃ ┣ 📂assignmyshop
 ┃ ┃ ┣ 📂assignnotice
 ┃ ┃ ┣ 📂editmyshop
 ┃ ┃ ┣ ┗ 📂[shopId]
 ┃ ┃ ┣ 📂editnotice
 ┃ ┃ ┣ ┗ 📂[shopId]
 ┃ ┃ ┣ ┗ ┗ 📂[noticeId]
 ┃ ┃ ┣ 📂myprofile
 ┃ ┃ ┣ ┗ 📂[userId]
 ┃ ┃ ┣ ┗ ┗ 📂assignmyprofile
 ┃ ┃ ┣ 📂myshop
 ┃ ┃ ┣ ┗ 📂[shopId]
 ┃ ┃ ┣ ┗ ┗ 📂notices
 ┃ ┃ ┣ ┗ ┗ ┗ 📂[noticesId]
 ┃ ┃ ┣ 📂noticelist
 ┃ ┃ ┣ 📂shop
 ┃ ┃ ┣ ┗ 📂[shopId]
 ┃ ┃ ┣ ┗ ┗ 📂notice
 ┃ ┃ ┣ ┗ ┗ ┗ 📂[noticeId]
 ┃ ┃ ┣ 📜layout.tsx
 ┃ ┃ ┗ 📜page.tsx
 ┃ ┣ 📜globals.css
 ┃ ┣ 📜layout.tsx
 ┃ ┗ 📜page.tsx
```
## 화면 구성
<table style="text-align: center; width: 100%">
  <tbody>
    <h3>비로그인</h3>
    <tr>
      <tr>
        <td><img src="https://github.com/user-attachments/assets/1ca2596b-d36d-47d0-8bc8-bd869499f50a"></td>
        <td><img src="https://github.com/user-attachments/assets/18089bf0-0992-48d6-9286-0f0c1d2c7f92"></td>
      </tr>
      <tr>
        <td><p align="center">로그인</p></td>
        <td><p align="center">회원가입</p></td>
      </tr>
      <tr>
        <td><img src="https://github.com/user-attachments/assets/1cb09ca2-7d6e-4a88-b5ef-cd87f4f79689"></td>
        <td><img src="https://github.com/user-attachments/assets/1493da64-87d1-40dc-ba87-1128a41f44c8"></td>
      </tr>
      <tr>
        <td><p align="center">메인화면 (공고 리스트)</p></td>
        <td><p align="center">공고 상세</p></td>
      </tr>
      </tbody>
</table>
<hr />
<table style="text-align: center; width: 100%">
  <tbody>
    <h3>로그인 (사장님)</h3>
    <tr>
      <tr>
        <td><img src="https://github.com/user-attachments/assets/6d200c3c-00cf-4632-992d-3aa8d7ba6d06"></td>
        <td><img src="https://github.com/user-attachments/assets/fe2fec6b-e5cf-459a-90b0-9c791aaaad67"></td>
      </tr>
      <tr>
        <td><p align="center">가게 정보 등록</p></td>
        <td><p align="center">가게 정보 편집</p></td>
      </tr>
      <tr>
        <td><img src="https://github.com/user-attachments/assets/87775449-250d-40a9-8355-b4b7d32745b8"></td>
        <td><img src="https://github.com/user-attachments/assets/699fccf3-f817-4a4b-9512-8615f878b5bf"></td>
      </tr>
      <tr>
        <td><p align="center">공고 등록</p></td>
        <td><p align="center">공고 편집</p></td>
      </tr>
      <tr>
        <td><img src="https://github.com/user-attachments/assets/8bedbf0d-798c-4628-b952-196335556852"></td>
        <td><img src="https://github.com/user-attachments/assets/5a5f1d6a-c409-4704-9164-7e4c699cda69"></td>
      </tr>
      <tr>
        <td><p align="center">가게 정보 상세</p></td>
        <td><p align="center">공고 상세</p></td>
      </tr>
      </tbody>
</table>
<hr />
<table style="text-align: center; width: 100%">
  <tbody>
    <h3>로그인 (알바님)</h3>
    <tr>
      <tr>
        <td><img src="https://github.com/user-attachments/assets/03f44c72-5fd5-41d4-87ce-12c2f48e9e54"></td>
        <td><img src="https://github.com/user-attachments/assets/9b06271d-bc9f-4df0-a966-7b8b1361cc34"></td>
      </tr>
      <tr>
        <td><p align="center">내 프로필 등록</p></td>
        <td><p align="center">내 프로필 편집</p></td>
      </tr>
      <tr>
        <td><img src="https://github.com/user-attachments/assets/c7744432-d981-4b6e-97c3-67ebd77e858b"></td>
        <td><img src="https://github.com/user-attachments/assets/625bda8b-a902-443b-af96-d62d66c7ac79"></td>
      </tr>
      <tr>
        <td><p align="center">내 프로필 상세</p></td>
        <td><p align="center">공고 상세</p></td>
      </tr>
      </tbody>
</table>

<hr />

## Troble Shooting

### ⚠️ 새로고침 시 props로 받은 id가 undefined가 떠서 빈 데이터가 나타나는 이슈 (가게 편집,공고 편집)

✅   페이지를 이동하기 전 컴포넌트에서 가게 데이터를 사용하고 있어 Link태그에 query로 데이터들을 전달해줌.

### ⚠️ querykey를 특정하지 않아 데이터가 제대로 fetch를 하지않는 이슈

✅   querykey를 특정하지 않아 기존의 캐싱된 데이터가 참조하게 됨. -> 고유한 querykey를 만들기 위해 userId를 추가함.

### ⚠️ 가게 정보 상세 페이지 (/myshop/{shopId}) 에서 임의로 shopId를 지웠을 때 가게 정보가 안뜨고 등록이 안된 상태의 페이지가 뜨는 이슈 

✅  쿠키로 로그인하거나 가게를 등록했을 때 shopId를 저장해주고 (/myshop) 페이지에서 쿠키 값을 가져와서 만약 있다면 (/myshop/{shopId})로 리다이렉션 되게끔 해줌.

### ⚠️ 무한스크롤 구현 시 서버 컴포넌트에서 prefetchQuery 사용해서 prefetch를 할때 오류가 떴었다. 

✅   prefetchQuery는 단일 페이지의 데이터를 로드할때 사용하는 것이고 페이지네이션이나 무한스크롤에 특화된 prefetchInfiniteQuery을 사용하여 useInfiniteQuery와 함께 사용함으로써 여러 페이지의 데이터를 미리 로드하였음.

### ⚠️ 클라이언트 컴포넌트에서 useSearchParams()를 사용하였는데 빌드과정에서 useSearchParams에서 Suspense 경계가 누락되었다는 것을 발견함.

✅  이 오류는 SSR 환경에서 CSR이 일어날 경우에 발생하는 오류로써 Suspense 컴포넌트를 사용하여 CSR과 SSR 사이의 경계를 만듦으로써 감싸진 컴포넌트가 렌더링되기 전에 필요한 데이터를 비동기적으로 로드할 수 있는 시간을 제공하도록 함.
